<h2 class="text-center">Listes des boutiques</h2>
<div class="row">
    <div class="col-md-12">
        <button class="btn btn-success">Ajouter une boutique</button>
    </div>
</div>


<table mat-table matSort [dataSource]="shops">
    <!-- Table columns -->
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom </th>
        <td mat-cell *matCellDef="let shop"> {{shop.name}} </td>
    </ng-container>

    <ng-container matColumnDef="closed">
        <th mat-header-cell *matHeaderCellDef> Congé </th>
        <td mat-cell *matCellDef="let shop"> {{shop.closed ? 'Oui' : 'Non'}} </td>
    </ng-container>

    <ng-container matColumnDef="creationDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date de création </th>
        <td mat-cell *matCellDef="let shop">
            {{
            shop.creationDate | date: 'dd/MM/yyyy'

            }}
        </td>
    </ng-container>

    <ng-container matColumnDef="productCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre de produits </th>
        <td mat-cell *matCellDef="let shop">
            {{ shop.productCount }}
        </td>
    </ng-container>

    <ng-container matColumnDef="categoryCount">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre de catégories </th>
        <td mat-cell *matCellDef="let shop">
            {{ shop.categoryCount }}
        </td>
    </ng-container>

    <!-- Action column -->
    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td class="" mat-cell *matCellDef="let shop">
            <button mat-button class="btn btn-info mr-2" (click)="updateShop(shop.id)">Edit</button>
            <button mat-button class="btn btn-danger" (click)="deleteShop(shop.id)">Delete</button>
            <button (click)="addProductToShop(shop.id)" class="btn btn-success">Add New Product</button>
        </td>
    </ng-container>

    <!-- Table rows -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
<mat-paginator 
[pageSizeOptions]="[5, 10, 20]" 
showFirstLastButtons>
</mat-paginator>

<!-- Filter input -->
<input #inputField (keyup)="changeFilter(inputField.value, 'name')" placeholder="Filter">
<select #selectField (change)="changeFilter(selectField.value, 'closed')">
    <option value="">Tout</option>
    <option value="true">Fermé</option>
    <option value="false">Ouvert</option>
</select>